---
title: 'ElasticSearch ì‚¬ìš© ë°©ë²• ë“±'
authors: [ jake ]
tags: [ nosql, es, elasticsearch ]
---

## â­ í‚¤ì›Œë“œ

| í‚¤ì›Œë“œ           | ì„¤ëª…     |
|---------------|--------|
| ElasticSearch | ì €ì¥ì†Œ    |
| Kibana        | ëŒ€ì‹œë³´ë“œ   |
| LogStash      | ë°ì´í„° ìˆ˜ì§‘ |

## ğŸ¥ ì˜ˆì‹œ - ê¸°ë³¸ ì‚¬ìš©

```python
# ì„ ì–¸
es = Elasticsearch(f'{settings.ELASTICSEARCH_URL}:{settings.ELASTICSEARCH_PORT}')
es.info()

# ì €ì¥
es_index = 'index_text'  # ì €ì¥í•  ì¸ë±ìŠ¤
content = ''  # ì €ì¥ ë‚´ìš©
if not es.indices.exists(index=es_index):
    es.indices.create(index=es_index)
doc = {
    'message': content
}
es.index(index=es_index, document=doc)
es.indices.refresh(index=es_index)

# ì¡°íšŒ
size = 10  # ê²€ìƒ‰ ìˆ˜
q = ''  # ê²€ìƒ‰ì–´
es.search(index=es_index, body={
    'from': 0,
    'size': size,
    'query': {
        'match': {
            'message': q
        }
    }
}).get('hits', {}).get('hits')
```