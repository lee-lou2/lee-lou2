---
title: 'λ°μ΄ν„°λ² μ΄μ¤ λ‹¨λ°©ν–¥ μ•”νΈν™” λ° μ•”νΈν™” λ°μ΄ν„° κ²€μƒ‰'
authors: [ jake ]
tags: [ django, db, encrypt ]
---

## β­ ν‚¤μ›λ“

| ν‚¤μ›λ“                  | μ„¤λ…                                                 |
|----------------------|----------------------------------------------------|
| Encrypted[Type]Field | λ‹¨λ°©ν–¥ μ•”νΈν™”λ¥Ό ν†µν•΄ λ°μ΄ν„° μ €μ¥(μ΄ ν•„λ“λ§μΌλ΅  λ°μ΄ν„° κ²€μƒ‰ λ¶κ°€)              |
| SearchField          | filterλ¥Ό ν†µν•΄ κ²€μƒ‰ν•  μ μλ” κΈ°λ¥μ„ μ κ³µ(λ‹¨, μ™„μ „ν μΌμΉν•λ” λ°μ΄ν„°λ§ κ²€μƒ‰ κ°€λ¥) |

## π¥ μμ‹(λ¨λΈλ§)

```python
class UserModel(models.Model):
    # μ•”νΈν™”ν•μ—¬ λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥
    _name = fields.EncryptedCharField(
        max_length=50,
        verbose_name=_('name'),
    )
    # filter λ“±μ κ²€μƒ‰μ‹ μ‚¬μ©(λ‹¨, μ™„μ „ν μΌμΉν•λ” λ°μ΄ν„°λ§ κ²€μƒ‰ κ°€λ¥)
    name = fields.SearchField(
        hash_key=settings.ENCRYPTION_KEY,
        encrypted_field_name='_name',
        verbose_name=_('name'),
    )
```

> μ£Όμ μ‚¬ν•­ : hash_key κ°€ μΌμΉν•μ§€ μ•μ„ κ²½μ° μ¤λ¥ λ°ν™
>

## π¥ μμ‹(λ°μ΄ν„° μ΅°ν)

```python
UserModel.objects.create(name='μ¥μΉκµ­')
# λ°μ΄ν„° μƒμ„±

user = UserModel.objects.filter(name='μ¥μΉκµ­')
# μ„±κ³µ - λ°μ΄ν„° μ΅°ν

user = UserModel.objects.filter(name__startswith='μ¥')
user = UserModel.objects.filter(name__contains='μΉκµ­')
# μ‹¤ν¨ - λ°μ΄ν„° μ΅°ν
```