---
title: 'νλΌλ―Έν„° μ¤ν† μ–΄λ¥Ό ν™κ²½ λ³€μ μ €μ¥μ†λ΅ ν™μ©'
authors: [jake]
tags: [aws, ssm, parameter-store, env]
---

## β­ ν‚¤μ›λ“

| ν‚¤μ›λ“ | μ„¤λ… |
| --- | --- |
| ssm | https://docs.aws.amazon.com/ko_kr/systems-manager/latest/userguide/what-is-systems-manager.html |
|  |  |

## π¥ μμ‹ - boto3

```python
import boto3
import os

access_key = ""  # AWS Access Key
secret_key = ""  # AWS Secret Key
region_name = "ap-northeast-2"  # AWS Region
path = '/api/prod'  # Parameters Path

# client μƒμ„±
session = boto3.Session(
    aws_access_key_id=access_key,
    aws_secret_access_key=secret_key,
    region_name=region_name
)
ssm = session.client("ssm")

# AWS SSM Parameter Store μ΅°ν
parameters = []
next_token = ""
options = {"Path": path, "Recursive": True, "WithDecryption": True}
while True:
    response = ssm.get_parameters_by_path(**options)
    parameters.extend(response["Parameters"])
    if "NextToken" in response:
        options["NextToken"] = response["NextToken"]
    else:
        break

# ν™κ²½ λ³€μλ΅ μ €μ¥
results = {}
for parameter in parameters:
    key = parameter["Name"].replace(path + "/", "")
    value = parameter['Value']
    os.environ[key] = value
```